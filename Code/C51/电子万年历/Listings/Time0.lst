C51 COMPILER V9.60.0.0   TIME0                                                             06/26/2022 14:20:14 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE TIME0
OBJECT MODULE PLACED IN .\Objects\Time0.obj
COMPILER INVOKED BY: D:\KeilMDKArm\C51\BIN\C51.EXE Hardware\Time0.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\
                    -Listings\Time0.lst) TABS(2) OBJECT(.\Objects\Time0.obj)

line level    source

   1          #include <STC15F2K60S2.H>
*** WARNING C318 IN LINE 1 OF Hardware\Time0.c: can't open file 'STC15F2K60S2.H'
   2          #include "MATRIXKEY.h"
   3          #include "Time0.h"
   4          #include "Alarm.h"
*** WARNING C318 IN LINE 31 OF Hardware\oled.h: can't open file 'STC15F2K60S2.H'
*** ERROR C202 IN LINE 42 OF Hardware\oled.h: 'P1': undefined identifier
*** ERROR C202 IN LINE 43 OF Hardware\oled.h: 'P1': undefined identifier
*** ERROR C202 IN LINE 44 OF Hardware\oled.h: 'P4': undefined identifier
*** ERROR C202 IN LINE 45 OF Hardware\oled.h: 'P1': undefined identifier
*** ERROR C202 IN LINE 46 OF Hardware\oled.h: 'P1': undefined identifier
   5          
   6          Time_T StopWatch ={0,0,0,0,0,0,0,0};
   7          Time_T Time = {2022,3,1,20,44,0};
   8          Time_T Alarm = {2022,3,19,20,44,0};
   9          unsigned char Time_Update = 1;
  10          bit Change_500ms = 0;
  11          
  12          /**
  13            * @brief  定时器0初始化，1000us@24.000MHz
  14            * @param  无
  15            * @retval 无
  16            */
  17          
  18          void Timer0_Init()    //1000微秒@24.000MHz
  19          {
  20   1        
  21   1        AUXR |= 0x80;   //定时器时钟1T模式
*** ERROR C202 IN LINE 21 OF Hardware\Time0.c: 'AUXR': undefined identifier
  22   1        TMOD &= 0xF0;   //设置定时器模式
*** ERROR C202 IN LINE 22 OF Hardware\Time0.c: 'TMOD': undefined identifier
  23   1        TL0 = 0x40;   //设置定时初始值
*** ERROR C202 IN LINE 23 OF Hardware\Time0.c: 'TL0': undefined identifier
  24   1        TH0 = 0xA2;   //设置定时初始值
*** ERROR C202 IN LINE 24 OF Hardware\Time0.c: 'TH0': undefined identifier
  25   1        TF0 = 0;    //清除TF0标志
*** ERROR C202 IN LINE 25 OF Hardware\Time0.c: 'TF0': undefined identifier
  26   1        TR0 = 1;    //定时器0开始计时
*** ERROR C202 IN LINE 26 OF Hardware\Time0.c: 'TR0': undefined identifier
  27   1        ET0 = 1;    //是否允许T0中断，1为允许
*** ERROR C202 IN LINE 27 OF Hardware\Time0.c: 'ET0': undefined identifier
  28   1        EA = 1;     //CPU中断总开关
*** ERROR C202 IN LINE 28 OF Hardware\Time0.c: 'EA': undefined identifier
  29   1        PT0 = 0; //定时器中断优先级，0为最低，1为最高
*** ERROR C202 IN LINE 29 OF Hardware\Time0.c: 'PT0': undefined identifier
  30   1      }
  31          
  32          
  33          void Timer0_Routine() interrupt 1 //1000us
  34          {
  35   1        static unsigned int T1Count1,T1Count2;
  36   1        TL0 = 0x40;   //设置定时初值
*** ERROR C202 IN LINE 36 OF Hardware\Time0.c: 'TL0': undefined identifier
  37   1        TH0 = 0xA2;   //设置定时初值
C51 COMPILER V9.60.0.0   TIME0                                                             06/26/2022 14:20:14 PAGE 2   

*** ERROR C202 IN LINE 37 OF Hardware\Time0.c: 'TH0': undefined identifier
  38   1        Time.MS ++ ;
  39   1        T1Count1 ++;
  40   1        T1Count2 ++;
  41   1        if(T1Count1>=10)
  42   1        {
  43   2          T1Count1 = 0;
  44   2          MatrixKey_Loop();
  45   2        }
  46   1        if(T1Count2 >=500)
  47   1        {
  48   2          T1Count2 = 0;
  49   2          Change_500ms = ~Change_500ms;
  50   2        }
  51   1        if(Time.MS<1000)
  52   1        {
  53   2          return;
  54   2        }
  55   1        Time.MS = 00;
  56   1        Time.Second ++;
  57   1        Time_Update = 6;
  58   1        
  59   1        if(Time.Second < 60)
  60   1        {
  61   2          return;
  62   2        }
  63   1        Time.Second = 0;
  64   1        Time.Minute ++;
  65   1        Time_Update = 5;
  66   1        
  67   1        if(Time.Minute<60)
  68   1        {
  69   2          return;
  70   2        }
  71   1        Time.Minute = 0;
  72   1        Time.Hour ++;
  73   1        Time_Update = 4;
  74   1        
  75   1        if(Time.Hour < 24)
  76   1        {
  77   2          return;
  78   2        }
  79   1        Time.Hour = 0;
  80   1        Time.Day ++;
  81   1        Time_Update = 3;
  82   1        
  83   1        if((Time.Month == 2)&&((Time.Day == 30)||
  84   1                               (!(!(Time.Year %4) && ((Time.Year % 100)||!(Time.Year % 400)))&&
  85   1                                (Time.Day == 29)))||
  86   1           ((Time.Day == 32) &&((Time.Month == 1)||
  87   1                                (Time.Month == 3)||
  88   1                                (Time.Month == 5)||
  89   1                                (Time.Month == 7)||
  90   1                                (Time.Month == 8)||
  91   1                                (Time.Month == 10)||
  92   1                                (Time.Month == 12)))||
  93   1           ((Time.Day == 31) && ((Time.Month == 4)||
  94   1                                 (Time.Month == 6)||
  95   1                                 (Time.Month == 9)||
  96   1                                 (Time.Month == 11))))
  97   1        {
  98   2          Time.Day = 1;
C51 COMPILER V9.60.0.0   TIME0                                                             06/26/2022 14:20:14 PAGE 3   

  99   2          Time.Month ++;
 100   2          Time_Update = 2;
 101   2        }
 102   1        else
 103   1        {
 104   2          return;
 105   2        }
 106   1        
 107   1        if(Time.Month < 13)
 108   1        {
 109   2          return;
 110   2        }
 111   1        Time.Month = 1;
 112   1        Time.Year ++;
 113   1        Time_Update = 1;
 114   1        
 115   1        if(Time.Year > 99)
 116   1        {
 117   2          Time.Year = 00;
 118   2        }
 119   1      }
 120          /*定时器中断函数模板
 121          void Timer0_Routine() interrupt 1
 122          {
 123            static unsigned int T0Count;
 124            TL0 = 0x9C;   //设置定时初值
 125            TH0 = 0xFF;   //设置定时初值
 126            T0Count++;
 127            if(T0Count>=1000)
 128            {
 129              T0Count=0;
 130              
 131            }
 132          }
 133          */

C51 COMPILATION COMPLETE.  2 WARNING(S),  16 ERROR(S)
